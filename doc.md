![image](https://hackmd.io/_uploads/ry6kW456yl.png)

说明：

- 挂单类型：分为Buying和Selling，根据下方的兑换方向确认；
- 余额显示，当Buying时显示sol余额，selling时显示coin余额；
- price 默认显示当前价格，用户可填写，点击更新按钮后显示当前价格；
- 兑换方向代表挂单类型，中间按钮点击可调换；

### 当前池子状态

- mintA是Sol: 0.036867143 SOL
- mintB是山寨币: 549851188.5306576 代币
- SOL价格: 124.7473490625 USD

### 计算当前代币价格

当前代币价格 = mintAmountA / mintAmountB
= 0.036867143 / 549851188.5306576
= 0.00000006704 SOL/代币

以USD计价：
代币价格 = 0.00000006704 \* 124.7473490625 = 0.00000836 USD/代币

### Buy操作（用SOL购买代币）

当用户用SOL购买代币时：

1. 输入SOL数量(x)
2. 输入期望价格(p)，单位为SOL/代币
3. 计算可获得的代币数量(y)

假设用户输入x SOL，以价格p挂单，则可获得的代币数量为：
y = x / p

如果当前市场价格低于用户挂单价格，订单将等待执行，直到市场价格达到或超过挂单价格。

### Sell操作（用代币兑换SOL）

当用户用代币兑换SOL时：

1. 输入代币数量(y)
2. 输入期望价格(p)，单位为SOL/代币
3. 计算可获得的SOL数量(x)

假设用户输入y代币，以价格p挂单，则可获得的SOL数量为：
x = y \* p

如果当前市场价格高于用户挂单价格，订单将等待执行，直到市场价格达到或低于挂单价格。
